document.addEventListener("DOMContentLoaded",(function(){var a={primary:"#7367f0",success:"#28c76f",danger:"#ea5455",warning:"#ff9f43"},e={primary:"Others",success:"Business",danger:"Personal",warning:"Work"},d=$(".cal-category-bullets").html(),n="",l="",t=document.getElementById("fc-default"),o=new FullCalendar.Calendar(t,{plugins:["dayGrid","timeGrid","interaction"],customButtons:{addNew:{text:" افزودن",click:function(){var a=(new Date).toISOString().slice(0,10);$(".modal-calendar").modal("show"),$(".modal-calendar .cal-submit-event").addClass("d-none"),$(".modal-calendar .remove-event").addClass("d-none"),$(".modal-calendar .cal-add-event").removeClass("d-none"),$(".modal-calendar .cancel-event").removeClass("d-none"),$(".modal-calendar .add-category .chip").remove(),$("#cal-start-date").val(a),$("#cal-end-date").val(a),$(".modal-calendar #cal-start-date").attr("disabled",!1)}}},header:{left:"addNew",center:"dayGridMonth,timeGridWeek,timeGridDay",right:"prev,title,next"},displayEventTime:!1,navLinks:!0,editable:!0,allDay:!0,navLinkDayClick:function(a){$(".modal-calendar").modal("show")},dateClick:function(a){$(".modal-calendar #cal-start-date").val(a.dateStr).attr("disabled",!0),$(".modal-calendar #cal-end-date").val(a.dateStr)},eventClick:function(a){$(".modal-calendar").modal("show"),$(".modal-calendar #cal-event-title").val(a.event.title),$(".modal-calendar #cal-start-date").val(moment(a.event.start).format("YYYY-MM-DD")),$(".modal-calendar #cal-end-date").val(moment(a.event.end).format("YYYY-MM-DD")),$(".modal-calendar #cal-description").val(a.event.extendedProps.description),$(".modal-calendar .cal-submit-event").removeClass("d-none"),$(".modal-calendar .remove-event").removeClass("d-none"),$(".modal-calendar .cal-add-event").addClass("d-none"),$(".modal-calendar .cancel-event").addClass("d-none"),$(".calendar-dropdown .dropdown-menu").find(".selected").removeClass("selected");var d=a.event.extendedProps.dataEventColor,n=e[d];$(".modal-calendar .chip-wrapper .chip").remove(),$(".modal-calendar .chip-wrapper").append($("<div class='chip chip-"+d+"'><div class='chip-body'><span class='chip-text'> "+n+" </span></div></div>"))}});o.render(),$("#basic-examples .fc-right").append(d),$(".modal-calendar .cal-submit-event").on("click",(function(){$(".modal-calendar").modal("hide")})),$(".remove-event").on("click",(function(){o.getEventById("newEvent").remove()})),0<$("td:not(.fc-event-container)").length&&$(".modal-calendar").on("hidden.bs.modal",(function(a){$(".modal-calendar .form-control").val("")})),$(".modal-calendar .form-control").on("keyup",(function(){1<=$(".modal-calendar #cal-event-title").val().length?$(".modal-calendar .modal-footer .btn").removeAttr("disabled"):$(".modal-calendar .modal-footer .btn").attr("disabled",!0)})),$(document).on("click",".fc-day",(function(){$(".modal-calendar").modal("show"),$(".calendar-dropdown .dropdown-menu").find(".selected").removeClass("selected"),$(".modal-calendar .cal-submit-event").addClass("d-none"),$(".modal-calendar .remove-event").addClass("d-none"),$(".modal-calendar .cal-add-event").removeClass("d-none"),$(".modal-calendar .cancel-event").removeClass("d-none"),$(".modal-calendar .add-category .chip").remove(),$(".modal-calendar .modal-footer .btn").attr("disabled",!0),n=a.primary,l="primary"})),$(".calendar-dropdown .dropdown-menu .dropdown-item").on("click",(function(){var d=$(this).data("color");n=a[d],eventTag=e[d],l=d,$(".cal-add-event").on("click",(function(){o.addEvent({color:n,dataEventColor:l,className:l})})),$(".calendar-dropdown .dropdown-menu").find(".selected").removeClass("selected"),$(this).addClass("selected"),$(".modal-calendar .chip-wrapper .chip").remove(),$(".modal-calendar .chip-wrapper").append($("<div class='chip chip-"+d+"'><div class='chip-body'><span class='chip-text'> "+eventTag+" </span></div></div>"))})),$(".cal-add-event").on("click",(function(){$(".modal-calendar").modal("hide");var a=$("#cal-event-title").val(),e=$("#cal-start-date").val(),d=$("#cal-end-date").val(),t=$("#cal-description").val(),c=new Date(d);o.addEvent({id:"newEvent",title:a,start:e,end:c,description:t,color:n,dataEventColor:l,allDay:!0})})),$(".pickadate").pickadate({format:"yyyy-mm-dd"})}));